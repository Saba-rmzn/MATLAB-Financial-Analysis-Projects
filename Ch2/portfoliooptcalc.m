% Saba Ramezani 
% Portfolio Optimization 

% A portfolio of 5 stocks, Over the period of 50 days (T=50)
P = [3849 6260 13160 3347 29950;
3959 6200 13100 3581 29820;
3980 6330 13000 3625 30430;
3995 6320 13050 3759 29990;
4160 6340 12970 3979 30000;
4134 6370 12880 3967 30220;
4105 6310 13090 3948 29800;
4101 6280 13080 3969 29800;
3936 6390 13700 3877 30270;
3905 6400 13860 3881 30200;
4010 6840 14110 4040 30590;
3992 7050 13970 4116 30650;
4046 7070 14030 4116 31030;
4207 7280 13710 4161 32520;
4417 7240 13080 4445 34020;
4346 7230 13120 4164 34090;
4129 6880 13170 3906 32560;
3981 6480 13090 4110 30940;
3834 6580 13450 4122 31290;
3651 6560 13440 3990 30980;
3739 6420 13400 4193 30320;
3722 6670 13390 4302 30560;
3757 6680 13450 4550 30590;
3664 6440 13430 4621 30670;
3664 6440 13380 4765 30690;
3747 6410 13440 5092 30760;
3752 6370 13380 5125 30850;
3688 6360 13450 5050 31340;
3660 6250 13830 4950 32270;
3486 6130 13970 4820 32580;
3491 6140 14040 5000 29470;
3502 6140 14060 5040 28620;
3425 6100 14060 5030 28670;
3449 6120 14030 5120 28760;
3588 6130 13810 5270 28730;
3624 6130 13980 5290 28610;
3376 5520 13940 5030 27730;
3364 5590 13960 5110 27620;
3398 5820 13930 5200 27500;
3351 5810 13940 5220 27640;
3088 5580 13760 4920 27760;
3098 5650 13780 4780 27740;
3164 5690 13720 4680 27880;
3087 5620 13520 4710 27970;
3073 5580 13440 4800 28160;
3028 5520 13430 4858 28140;
3143 5580 13420 4845 28230;
3198 5740 13640 4823 28260;
3197 5930 13650 4833 28520;
3171 5910 13650 4824 28870];


[Er, Sigma, Wstar, Erp, Sigmap] = Portfolioopt(P, 10);

% Plot the Efficient Frontier
figure
plot(sqrt(Sigmap)*252, Erp*252, '.-') 
xlabel('Annualized Risk (StD)')
ylabel('Annualized Return')
title('Efficient Frontier')
grid on

% Plot the asset weights in each portfolio
figure
plot(Erp*252, Wstar', '.-')
xlabel('Annualized Return')
ylabel('Asset Weights in Portfolio')
title('Asset Weights Along the Efficient Frontier')
legend('Khodro', 'Foolad', 'Fars', 'WebMelat', 'Daroo') % Replace with your asset names
grid on

